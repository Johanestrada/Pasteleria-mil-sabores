<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chocolate Cake</title>
    <!--Conexion a nuestra querisima hoja de estilos-->
    <!--Conexion a nuestra querisimo boostrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Pacifico&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- HEADER -->
    <nav class="navbar navbar-expand-lg navbar-light bg-pink shadow-sm">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand" href="../../index.html">
                <img src="../img/Logo_Pasteleria_mil.png" alt="Logo" class="img-fluid" style="max-width:80px;">
            </a>

            <!-- Botón para móvil -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menú -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto"> <!-- mx-auto centra el menú -->
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="catalogo.html">Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nosotros.html">Nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="blog.html">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contacto.html">Contacto</a>
                    </li>
                </ul>
                <!-- Iconos -->
                <div class="d-flex align-items-center ms-lg-3 gap-2">
                    <a href="carrito.html" class="btn position-relative">
                        <i class="bi bi-cart fs-4"></i>
                        <span
                            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger carrito-total">0</span>
                    </a>
                    <!-- Contenedor Dinámico de Usuario (se rellena con auth-status.js) -->
                    <div id="user-status-container">
                        <a href="login.html" id="login-link" class="btn text-dark p-0"><i class="bi bi-person fs-4"></i></a>
                        <div class="nav-item dropdown" id="user-dropdown" style="display: none;"><a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="user-menu" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-person-check-fill fs-4 text-success"></i><span id="user-name" class="ms-2 d-none d-lg-inline"></span></a><ul class="dropdown-menu dropdown-menu-end" aria-labelledby="user-menu"><li><a class="dropdown-item" href="usuario.html">Ver Perfil</a></li><li><hr class="dropdown-divider"></li><li><a class="dropdown-item" href="#" id="logout-link">Cerrar Sesión</a></li></ul></div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!--Contenido principal de la pagina-->
    <main>
        <section>
            <!-- Sobre nosotros -->
            <div class="Destacados">
                <h1>Pastel Chocolate</h1>
            </div>
            <div class="container my-4">
                <div class="row">
                    <div class="col-md-6 tex">
                        <span class="precio">$12.500</span>
                        <p>Un clásico irresistible que combina suavidad, intensidad y dulzura en cada bocado. 
                            Este pastel está elaborado con cacao puro de alta calidad, lo que le da 
                            un sabor profundo y envolvente.
                        </p>
                        <div class="input-group" style="width:140px;">
                            <label class="input-group-text" for="cantidad">Cantidad</label>
                            <input type="number" class="form-control" id="cantidad" name="cantidad" min="1" max="99" value="1">
                            
                        </div>
                        <!--Detalle profundo del producto-->
                        <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                    Fechas de entrega
                                </button>
                                </h2>
                                <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    Ofrecemos retiro en tienda y entregas a domicilio dentro de la Región Metropolitana. Los pedidos deben 
                                    realizarse con al menos 24 horas de anticipación. Para el retiro, se debe presentar el comprobante de compra.
                                    Las entregas se realizan entre las 10:00 y 18:00 hrs
                                    <br>
                                    <label for="fecha">Selecciona una fecha:</label>
                                    <br>
                                    <input type="date" id="fecha" name="fecha">
                                </div>
                            </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                                    Ingredientes
                                </button>
                                </h2>
                                <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <p>-Harina</p>
                                    <br>
                                    <p>-Azucar</p>
                                    <br>
                                    <p>-Huevos</p>
                                    <br>
                                    <p>-Chocolate</p>
                                    <br>
                                    <p>-Vainilla</p>
                                    <br>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <img src="../img/pastelchocolate.jpg" alt="Sobre Nosotros" class="img-nosotros">

                    </div>
                    
                </div>
                
                <button type="button" class="btn btn-primary btn-lg add-to-cart-btn">Agregar al carrito</button>

            </div>
        </section>
    </main>

    <footer class="footer py-4 bg-pink">
        <script>
        // Script para verificar el login antes de agregar al carrito
        document.addEventListener('click', function(event) {
            const addToCartButton = event.target.closest('.add-to-cart-btn');

            if (addToCartButton) {
                // Asumimos que el estado de login se guarda en localStorage (ej: 'usuario')
                const usuarioLogeado = localStorage.getItem('usuario'); 

                if (!usuarioLogeado) {
                    event.preventDefault();
                    event.stopPropagation();
                    alert('Debes iniciar sesión para agregar productos al carrito.');
                    window.location.href = 'login.html'; // Redirigir a la página de login
                }
            }
        }, true); // Usar fase de captura para que se ejecute primero.
        </script>
        <div class="container">
            <div class="row">

                <div class="col-12 col-md-3 text-center text-md-start mb-3 mb-md-0">
                    <img src="assets/img/Logo_Pasteleria_mil.png" alt="Logo" class="img-fluid" style="max-width:80px;">
                </div>
                <div class="col-12 col-md-3">
                    <h3>Información</h3>
                    <ul class="list-unstyled">
                        <li>Teléfono: +569 27905271</li>
                        <li>Avenida Concha y Toro...</li>
                        <li>Correo: pasteleria100...@milsabores.cl</li>
                    </ul>
                </div>
                <div class="col-12 col-md-3">
                    <h3>Productos</h3>
                    <ul class="list-unstyled">
                        <li><a href="#">Inicio</a></li>
                        <li><a href="#">Productos</a></li>
                    </ul>
                </div>
                <div class="col-12 col-md-3">
                    <h3>Redes</h3>
                    <ul class="list-unstyled">
                        <li><a href="#"><img src="assets/img/instagram.png" alt="IG" style="max-width:28px;"></a></li>
                        <li><a href="#"><img src="assets/img/whatsapp.png" alt="WA" style="max-width:28px;"></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!--Segunda parte de nuestro boostrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous">
    </script>
    <script src="../js/auth-status.js"></script>
    <script src="../js/actualizarCarrito.js"></script>
    
</body>
</html>